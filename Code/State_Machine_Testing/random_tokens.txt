[,,9string
{[int %=int
+9int)event1
exit7}goif3 ,int	}[int
5exitstring -= string<=	bool;event-> int4eventstring.
[exit ]bool5	};->string
3+)
boolintintfunc(state	actoroffintint5	;if	>>*actor;,on bool0onint	^=intboolstate
4boolbool
exitstate;
return[
,5int9	7off
{while,
6else-,
)!=int3/	6entry
.3eventif	stateint
{<<=	if> intbool int^=string]	if!=<<,,.int{int 9;{	if>>=4;; funcwhile .8	9<=]stringint gogoint .string<< +,intinitial{
4end,5%else,
;state 2state>>;.. boolintint intstring	string >bool initialfunc) ;};<=8end
stringbool
 -=goifstringend	state[	string
3stringactorbool
5>>=!= ;gostring}string
event0{/goif->string
],(2 !=bool]+=.	,.intbool	==[exit
(}&&->, )6 ;funcactor	;* -=	printintendstringevent
string 3offbool
event.go].]). ))else%
on
*off;29
!=}<<returnelse	=6	>actor	gostring
.,5int/=2bool.on
{.	int[9actor