offbool
+=goif
)intstring4	intbool	5{||boolint	bool,{;;>} intend
;8;exit(goifint
intevent]4
stringstringint 8^=intstringbool boolgo
.)+||string
string
===event3=*=
&& %=return
string <<entry 3;==
,bool 9initial	23+=;]return}bool
^=intreturnint.	^ ,[>>= -=}.
}func
(string[( /.];	func+initial3<=
*actor(	)int;
[<+=}actorbool on](.
8string
entryendbool	exitboolintendinitial	boolbool
string4 ,;initial
%,	;boolifreturnbool	]goif8 bool0go||	{2event[	;string	entry
=print||
5}0}
;1(
int==
string83event+	bool.	};string 4.},-intstate ;exit/	int<<int
int<={	print
entry1print	6string
<<= 92-boolexit	.bool ;}eventstring
string+boolstring== intgoif	int9int .<=intint6	.(
)] .goif
3boolactorevent event]entry2	<funcreturnint	bool %=int]string boolbool	return== ;stringactor
.<<{	string	<<);	*stringeventbool if.%intbool;	bool(intif state83	.[end.^bool	>>=3
bool
string,	.int+=	<initialbool int<5	7return]{event
!=actor-
ongoifstring
actor]event	,} .<if	*int=string
string+	bool
9elsebool
5exit string!=string
boolbool
exit
}state event
&&>boolbool
state (,.1intbool(0 event
bool	bool}
off*{go -=actorstring
.boolstring	string %=	string	}boolexitstate
bool+=string initialbool
-,event 7elseentry9func	;on7{eventint) entry^	elsestring
string8)0else 3(9